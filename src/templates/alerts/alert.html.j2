{% extends "base.html.j2" %}
{% block content %}
    <div class="alert-page-header">
        <h1>Alert <small class="small-h1">for '{{ alert.item.name }}'</small></h1>
    </div>
    <hr>
    <p>Last price found: <strong>{{ alert.item.price }}</strong></p>
    <p>Last checked on: <strong>{{ alert.last_checked.strftime('%m-%d-%Y at %H:%M') }}</strong></p>
    <div class="card-edit">
        <hr>
        <div class="card-body card-body-edit">
            <a class="btn btn-secondary secondary-button" href="{{ alert.item.url }}" role="button">Visit Website</a>
            <a class="btn btn-warning warning-button" href="{{ url_for('alerts.edit_alert', alert_id=alert._id) }}" role="button">Edit Alert</a>

            {% if alert.active %}
                <a class="btn btn-danger" href="{{ url_for('alerts.deactivate_alert', alert_id=alert._id) }}" role="button">Turn off Alert</a>
            {% else %}
                <a class="btn btn-success" href="{{ url_for('alerts.activate_alert', alert_id=alert._id) }}" role="button">Turn on Alert</a>
                <a class="btn btn-danger" href="{{ url_for('alerts.delete_alert', alert_id=alert._id) }}" role="button">Permanently Delete Alert</a>
            {% endif %}
            <a class="btn btn-success warning-button" href="{{ url_for('alerts.check_alert_price', alert_id=alert._id) }}" role="button">Check alert price</a>
        </div>
    </div>
{% endblock %}
